<mat-dialog-content class="mat-typography">
  <h2>Edit form for user with id: {{data.id}}</h2>
</mat-dialog-content>
<div class="profile-container">
  <div class="avatar-container">
    <mat-card-title>Avatar: </mat-card-title>
    <div class="avatar"><img *ngIf="img" src="{{img}}" height="200"></div>
    <div class="change-avatar">
      <span style="color:red;" *ngIf="message">{{ message }}</span>
      <input #file type="file" accept='image/*' (change)="preview(file.files)" />
    </div>
  </div>
  <mat-card-content class="information">
    <mat-card-title>Information: </mat-card-title>
    <form form [formGroup]="angForm" novalidate class="information-field form-container-fields">
      <mat-form-field class="example-full-width">
        <input matInput placeholder="email" value="{{data.email}}" formControlName="email">
        <mat-error
          *ngIf="angForm.controls['email'].invalid && (angForm.controls['email'].dirty || angForm.controls['email'].touched)"
          class="alert alert-danger">
          <mat-error *ngIf="angForm.controls['email'].errors.required">
            email is required.
          </mat-error>
          <mat-error *ngIf="angForm.controls['email'].errors.email">
            incorrect email
          </mat-error>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <input matInput placeholder="password" value="{{data.password}}" formControlName="password">
        <!-- <mat-error
          *ngIf="angForm.controls['password'].invalid && (angForm.controls['password'].dirty || angForm.controls['password'].touched)">
          <mat-error *ngIf="angForm.controls['password'].errors.required">
            password is required.
          </mat-error>

          <mat-error *ngIf="angForm.controls['password'].errors.minLength">
            password must be at least 8 characters long.
          </mat-error>
        </mat-error> -->
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <input matInput placeholder="age" formControlName="age" value="{{data.age}}">
        <mat-error
          *ngIf="angForm.controls['age'].invalid && (angForm.controls['age'].dirty || angForm.controls['age'].touched)">
          <mat-error *ngIf="angForm.controls['age'].errors.required">
            age is required.
          </mat-error>
          <mat-error *ngIf="angForm.controls['age'].errors.min">
            your age may be more than 18 :)
          </mat-error>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <input matInput placeholder="telephone" formControlName="telephone" value="{{data.telephone}}">
        <mat-error
          *ngIf="angForm.controls['telephone'].invalid && (angForm.controls['telephone'].dirty || angForm.controls['telephone'].touched)"
          class="alert alert-danger">
          <mat-error *ngIf="angForm.controls['telephone'].errors.required">
            telephone is required.
          </mat-error>
        </mat-error>
      </mat-form-field>
      <mat-dialog-actions align="end">

        <button mat-button mat-dialog-close mat-raised-button color="warn">Cancel</button>
        <button (click)="onSubmit()" type="submit" mat-button [mat-dialog-close]="true" cdkFocusInitial
          mat-raised-button color="primary">Sumbit</button>

      </mat-dialog-actions>
    </form>
  </mat-card-content>
</div>
